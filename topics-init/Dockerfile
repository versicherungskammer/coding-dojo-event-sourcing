ARG DOCKER_REPO
FROM ${DOCKER_REPO:-docker.io}/eclipse-temurin:11-jre-focal

COPY kafka-topics-init.jar /kafka-topics-init.jar
COPY topics.yml /topics.yml
COPY startup.sh /startup.sh

ENV CONFIG_FILE ""
ENV KAFKA_BOOTSTRAP_SERVERS ""
ENV KAFKA_CLIENT_ID "tier-kafka-topics-init"
ENV KAFKA_TOPIC_INFO_TOPIC "kafka-topics-info"
#ENV KAFKA_TRUSTSTORE_LOCATION ""
#ENV KAFKA_TRUSTSTORE_PASSWORD ""
ENV KAFKA_SECURITY_PROTOCOL ""
ENV KAFKA_ENABLED_SSL_PROTOCOLS ""
ENV KAFKA_SASL_MECHANISM ""
ENV KAFKA_SASL_JAAS_CONFIG ""
ENV KAFKA_SASL_KERBEROS_SERVICE_NAME ""
ENV KAFKA_SASL_LOGIN_CALLBACK_HANDLER ""
ENV TOPICS_FILE "/topics.yml"

ENTRYPOINT ["/startup.sh"]
